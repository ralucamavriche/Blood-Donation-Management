(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),c=a(6),l=a(7),i=a(10),m=a(9),u=a(12),d=a(30),p=a(119),h=a(120),E=a(112),f=a(8),b=a(13),g=a.n(b),v=function(e,t){return function(a){a({type:"OPEN_ALERT",payload:{text:e,style:t}}),window.setTimeout((function(){a({type:"CLOSE_ALERT",payload:{text:""}})}),3e3)}},N=function(){return{type:"CLEAR_ERRORS"}},y=a(62),O=a.n(y),w=function(e,t){var a=e.name,n=e.email,r=e.password,o=e.role;return function(e){var s=JSON.stringify({name:a,email:n,password:r,role:o}),c=window.location;g.a.post("/api/users",s,{headers:{"Content-Type":"application/json"}}).then((function(r){return g.a.post("/api/email",{name:a,email:n,linkTo:c}).then((function(t){return"failed"!==t.data.status?e(v("Email sent Successfully!","info")):e(v("Email not sent!","danger"))})).catch((function(e){return console.log("Email not sent!")})),"donor"!==o&&(e({type:"REGISTER_SUCCESS",payload:r.data}),e(v("Account created Successfully","success"))),null!==t?t.push("/login"):null})).catch((function(t){"donor"===o?console.log("Email already exist"):(e(v("Email or password  already exist","danger")),e({type:"REGISTER_FAIL"}))}))}},k=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"},id:"application/json",body:{id:"5ec3c784b54a553d948ff5a2"}};return t&&(a.headers["x-auth-token"]=t),a},x=function(){return function(e){e(C()),g.a.get("/api/donors").then((function(t){e({type:"GET_DONORS",payload:t.data})})).catch((function(t){return e(v("[".concat(t.response.status,"] : ").concat(t.response.data+": :Donors GET Failed"),"danger"))}))}},C=function(){return{type:"DONORS_LOADING"}},j=a(11),A=a(16),S=a(133),D=a(113),F=a(114),_=a(115),q=a(116),T=a(117),R=a(118);function L(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},e.options.map((function(e,t){return r.a.createElement("li",{key:t,className:"breadcrumb-item"},r.a.createElement(u.b,{to:e.to},e.name))})),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},e.currentLink))))}var P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",email:"",age:"",weight:"",phone_number:"",cnp:""},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,age:e.state.age,weight:e.state.weight,phone_number:e.state.phone_number,currentUser:e.props.auth.user._id,cnp:e.state.cnp};e.props.addDonor(a);var n=Object(j.a)(Object(j.a)({},a),{},{password:"name-123",role:"donor"});e.props.register(n,null),e.setState({modal:!1,name:"",email:"",age:"",weight:"",phone_number:"",cnp:""}),e.props.handleSet(a),e.toggle()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,{options:[{to:"/",name:"Blood D"}],currentLink:"Donors List"}),this.props.isAuthenticated?r.a.createElement(E.a,{color:"dark",style:{marginBottom:"2rem"},onClick:this.toggle},r.a.createElement("i",{className:"fas fa-plus-circle"})," Add Donor"):r.a.createElement("h5",{className:"mb-3 ml-4 text-center",style:{marginBottom:"2rem"}}," Please log in to manage donors"),r.a.createElement(S.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Add To Donor List"),r.a.createElement(F.a,null,r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement("h4",null,"Will create an account for the donor."),r.a.createElement(T.a,{htmlFor:"donor"},"Donor"),r.a.createElement(R.a,{required:!0,input:"text",name:"name",id:"donor",value:this.state.name,placeholder:"Add Name donor",onChange:this.onChange}),r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(R.a,{required:!0,type:"email",name:"email",id:"email",value:this.state.email,placeholder:"Add Email",onChange:this.onChange}),r.a.createElement(T.a,{for:"age"},"Age"),r.a.createElement(R.a,{required:!0,type:"number",name:"age",min:18,id:"age",value:this.state.age,placeholder:"Add Age",onChange:this.onChange}),r.a.createElement(T.a,{for:"weight"},"Weight"),r.a.createElement(R.a,{required:!0,type:"number",name:"weight",min:50,id:"weight",value:this.state.weight,placeholder:"Add weight",onChange:this.onChange}),r.a.createElement(T.a,{for:"phone_number"},"Phone number"),r.a.createElement(R.a,{required:!0,input:"number",name:"phone_number",min:10,id:"phone_number",value:this.state.phone_number,placeholder:"Add Phone Number",onChange:this.onChange}),r.a.createElement(T.a,{for:"phone_number"},"CNP"),r.a.createElement(R.a,{required:!0,type:"number",name:"cnp",min:13,id:"cnp",value:this.state.cnp||"",placeholder:"Add CNP",onChange:this.onChange}),r.a.createElement(E.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Add donor"))))))}}]),a}(n.Component),U=Object(d.f)(Object(f.b)((function(e){return{auth:e.auth,donor:e.donor,isAuthenticated:e.auth.isAuthenticated}}),{addDonor:function(e){return function(t,a){g.a.post("/api/donors",e,k(a)).then((function(e){if(!e.data.errors)return t(v("Donor added Successfully","success")),x();alert("Donor Failed : Actions Redux")})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Donor Failed"),"danger"))}))}},getDonors:x,register:w})(P)),I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-5 d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),a}(n.Component),B={success:{className:"alert alert-success alert-dismissable",type:"Well done!"},warning:{className:"alert alert-warning alert-dismissable",type:"Warning!"},info:{className:"alert alert-info alert-dismissable",type:"Warning!"},danger:{className:"alert alert-danger alert-dismissable",type:"Oh snap!"}};function G(e){var t=B[e.style];return e.text?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert-group customAlertFixed"},r.a.createElement("div",{className:t.className},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-hidden":"true",onClick:e.handleClose},"\xd7"),r.a.createElement("strong",null,t.type)," ",e.text||""))):null}var Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onDeleteClick=function(t){e.props.deleteDonor(t)},e.handleSet=function(t){e.props.getDonors(),e.forceUpdate()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getDonors()}},{key:"render",value:function(){var e=this,t=this.props.donor,a=t.donors,n=t.loading,o=this.props.auth.user;return!0===n?r.a.createElement(I,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{handleSet:this.handleSet}),r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement("h2",{className:"text-center"}," Donors List")),o&&a.map((function(t){var a=t._id,n=t.name,s=t.createdBy;return o._id===s?r.a.createElement(h.a,null,r.a.createElement(r.a.Fragment,null,e.props.isAuthenticated&&r.a.createElement("div",null,r.a.createElement(E.a,{className:"edit-btn float-right",color:"success",size:"sm",onClick:function(t){return e.props.history.push("/donors/edit/".concat(a))}},"Edit"),r.a.createElement(E.a,{className:"remove-btn float-right",color:"danger",size:"sm",onClick:e.onDeleteClick.bind(e,a)}," ","Remove")),n)):null}))),!0===this.props.main.isOpenAlert&&r.a.createElement(G,{text:this.props.main.text,style:this.props.main.style,handleClose:this.props.closeAlert}))}}]),a}(n.Component),M=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,isAuthenticated:e.auth.isAuthenticated,auth:e.auth,main:e.main}}),{getDonors:x,deleteDonor:function(e){return function(t,a){g.a.delete("/api/donors/".concat(e),k(a)).then((function(a){return t(v("Donor deleted Successfully","success")),t({type:"DELETE_DONORS",payload:e})})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Donor Failed"),"danger"))}))}}})(Q)),W=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Donors"},r.a.createElement("div",{className:"donorsList"},r.a.createElement(M,null)))}}]),a}(n.Component),H=a(123),V=a(124),z=a(125),Y=a(126),J=a(121),K=a(122),X=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,email:"",password:"",msg:null},e.toggle=function(){e.props.clearErrors(),e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,password:a.password};e.props.login(n),e.setState({modal:!e.state.modal}),e.props.history.push("/")},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J.a,{onClick:this.toggle,href:"#"},"Login"),r.a.createElement(S.a,{isOpen:this.state.modal||"/login"===window.location.pathname,toggle:this.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Login"),r.a.createElement(F.a,null,this.state.msg?r.a.createElement(K.a,{color:"danger"},this.state.msg):null,r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(R.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",value:this.state.email,onChange:this.onChange}),r.a.createElement(T.a,{for:"password"},"Password"),r.a.createElement(R.a,{type:"password",name:"password",id:"password",value:this.state.password,placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(E.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Login"))))))}}]),a}(n.Component),$=Object(d.f)(Object(f.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});g.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){localStorage.setItem("token",t.data.token),e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(v("[".concat(t.response.status,"] : ").concat(t.response.data+": Error Register User"),"danger")),e({type:"LOGIN_FAIL"})}))}},clearErrors:N})(X)),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",email:"",password:"",msg:null},e.toggle=function(){e.props.clearErrors(),e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={name:a.name,email:a.email,password:a.password};e.props.register(n,e.props.history),e.setState({modal:!e.state.modal})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J.a,{onClick:this.toggle,href:"#"},"Register"),r.a.createElement(S.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Register"),r.a.createElement(F.a,null,this.state.msg?r.a.createElement(K.a,{color:"danger"}," ",this.state.msg," "):null,r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{for:"name"},"Name"),r.a.createElement(R.a,{type:"text",name:"name",id:"name",placeholder:"Name",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(R.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"password"},"Password"),r.a.createElement(R.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(E.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Register"))))))}}]),a}(n.Component),ee=Object(d.f)(Object(f.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:w,clearErrors:N})(Z)),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(u.b,{className:"dropdown-item",onClick:this.props.logout,to:"/"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," Logout"))}}]),a}(n.Component),ae=Object(f.b)(null,{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(te),ne=a(25),re=a.n(ne),oe=a(27),se=a(28),ce=function(e,t){return function(a){g.a.patch("/api/request/".concat(e),{viewedBy:t}).then((function(e){return a(v("Notification Viewed","success")),null})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Update Notification Failed"),"danger"))}))}},le=function(){return function(e){g.a.get("/api/request").then((function(t){e({type:"GET_REQUESTS",payload:t.data})})).catch((function(t){return e(v("[".concat(t.response.status,"] : ").concat(t.response.data+": :GET Request Failed"),"danger"))}))}},ie=a(132),me=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClickNotifications=function(e,t,a){var r=n.props.auth.user._id;if(!1===a.includes(r)){var o=a;o.push(r),n.props.updateViewField(t,o)}n.props.history.push("/notifications/".concat(t))},n.state={countOfNotificationsState:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getRequests()}},{key:"render",value:function(){var e=this,t=this.props.request.requests,a=this.props.auth.user,n=null!==a?function(e,t){var a=0;return e&&e.map((function(e){return!1===e.viewedBy.includes(t)&&a++,null})),a}(t,a._id):0;return null!==this.props.auth.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(u.b,{className:"nav-link",to:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"false","aria-expanded":"false"},r.a.createElement(oe.a,{icon:se.a,size:"1x",float:"left",color:"white"})),n>0&&r.a.createElement("span",{className:"badge badge-danger"},n),r.a.createElement("ul",{role:"menu",className:"dropdown-menu dropdown-menu-left pull-right","aria-labelledby":"navbarDropdown"},r.a.createElement("li",{role:"none"},r.a.createElement(u.b,{to:"/notifications",className:"dropdown-menu-header"},"Notifications")),r.a.createElement("ul",{className:"timeline timeline-icons timeline-sm",style:{margin:"10px",width:"210px"}},t.map((function(t,n){var o=t._id,s=t.title,c=t.date,l=t.viewedBy;return l&&!1===l.includes(a._id)&&r.a.createElement(ie.a,{key:o,timeout:500,classNames:"fade"},r.a.createElement("li",{onClick:function(t){return e.handleClickNotifications(t,o,l)},className:"custom_notfication_link"},r.a.createElement("p",null,r.a.createElement("span",{className:"custom_title"},s,l&&!1===l.includes(a._id)&&r.a.createElement("span",{className:"  badge badge-secondary custom_bagde"},"New")),r.a.createElement("span",{className:"timeline-icon"},r.a.createElement("i",{className:"far fa-bell"})),r.a.createElement("span",{className:"timeline-date"},r.a.createElement(re.a,{fromNow:!0},c)))))})),t.length>=3&&r.a.createElement("li",{onClick:function(){return e.props.history.push("/notifications")},className:"custom_notfication_link"},r.a.createElement("p",null,r.a.createElement("span",{className:"custom_title"}," ","View all ",t.length," notifications!"),r.a.createElement("span",{className:"timeline-icon"},r.a.createElement("i",{className:"far fa-bell"})),r.a.createElement("span",{className:"timeline-date"})))),r.a.createElement("li",{role:"none"},r.a.createElement(u.b,{to:"#",className:"dropdown-menu-header"}))))):null}}]),a}(n.Component),ue=Object(d.f)(Object(f.b)((function(e){return{request:e.request,auth:e.auth}}),{getRequests:le,updateViewField:ce})(me)),de=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,title:"",author:"",description:"",blood_type:""},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={title:e.state.title,author:e.state.author,description:e.state.description,blood_type:e.state.blood_type};e.props.addRequest(a),e.toggle()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"blondi",onClick:this.toggle},"Request"),r.a.createElement(S.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Request"),r.a.createElement(F.a,null,r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{for:"title"},"Title"),r.a.createElement(R.a,{type:"text",name:"title",id:"title",value:this.state.title,placeholder:"Title",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"author"},"Author"),r.a.createElement(R.a,{type:"text",name:"author",id:"author",value:this.state.author,placeholder:"Author",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"description"},"Description"),r.a.createElement(R.a,{type:"text",name:"description",id:"description",value:this.state.description,placeholder:"Description",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"blood_type"},"Blood type "),r.a.createElement(R.a,{type:"text",name:"blood_type",id:"blood_type",value:this.state.type,placeholder:"Blood type",className:"mb-3",onChange:this.onChange}),r.a.createElement(E.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Send"))))))}}]),a}(n.Component),pe=Object(f.b)((function(e){return{request:e.request}}),{addRequest:function(e){return function(t){g.a.post("/api/request",e).then((function(e){if(!e.data.errors)return t(v("Notification Added Successfully","success")),t({type:"ADD_REQUESTS",payload:e.data});t(v("Input invalid.Incercati din nou.","danger"))})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Add Notification Failed"),"danger"))}))}}})(de),he=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.toggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,o=r.a.createElement(n.Fragment,null,this.props.auth.user&&"admin"===this.props.auth.user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"#",className:"nav-link js-scroll-trigger"},r.a.createElement(pe,null))),null!==this.props.auth.user&&r.a.createElement(ue,null),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(u.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},a?"Welcome ".concat(a.name.charAt(0).toUpperCase()+a.name.slice(1)):""),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(u.b,{className:"dropdown-item",to:"/dashboard/settings"},r.a.createElement("i",{className:"fas fa-sliders-h"})," Settings"),r.a.createElement(u.b,{className:"dropdown-item",to:"/dashboard"},r.a.createElement("i",{className:"fas fa-user-circle"})," Dashboard"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(ae,null)))),s=r.a.createElement(n.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(ee,null)),r.a.createElement(H.a,null,r.a.createElement($,null)));return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top py-2",id:"mainNav"},r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{className:"navbar-brand js-scroll-trigger",to:"/"},"Blood Donation"),r.a.createElement(V.a,{className:"navbar-toggler navbar-toggler-right",onClick:this.toggle,"data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(z.a,{isOpen:this.state.isOpen,className:"somesome",navbar:!0},r.a.createElement(Y.a,{className:"ml-auto",navbar:!0},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"/#about"},"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"/#services"},"Services")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#contact"},"Contact")),t?o:s)))))}}]),a}(n.Component),Ee=Object(f.b)((function(e){return{auth:e.auth}}),null)(he);function fe(){return r.a.createElement("footer",{className:"bg-light py-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"small text-center text-muted"},"Copyright \xa9 2020 - Blood Donation")))}var be=a(15),ge=a.n(be),ve=a(18),Ne=a(37),ye=a(127),Oe=a(128),we=a(129),ke=a(130),xe=a(131),Ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={date:"",url:"",specifications:""},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={date:e.state.date,url:e.state.url,specifications:e.state.specifications};e.props.handleSubmitHistory(a),e.setState({date:"",url:"",specifications:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{className:"py-5"},r.a.createElement(Oe.a,null,r.a.createElement(we.a,{style:{width:"100%"}},r.a.createElement(ke.a,null,r.a.createElement("h4",{className:"mb-0"},"Add medical history:")),r.a.createElement(xe.a,null,r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"exampleDate"},"Date"),r.a.createElement(R.a,{type:"date",name:"date",id:"date",value:this.state.date,onChange:this.onChange,placeholder:"Date placeholder"})),r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"exampleUrl"},"Uploading medical file"),r.a.createElement(R.a,{type:"url",name:"url",value:this.state.url,onChange:this.onChange,id:"url",placeholder:"Url placeholder"})),r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"specifications"},"Other specifications"),r.a.createElement(R.a,{value:this.state.specifications,onChange:this.onChange,type:"textarea",name:"specifications",id:"specifications"})),r.a.createElement(E.a,{type:"submit",color:"dark",style:{marginTop:"2rem"},block:!0},"Submit")))))))}}]),a}(n.Component),je=Object(d.f)(Object(f.b)((function(e){return{auth:e.auth}}),{})(Ce));function Ae(e){var t=e.historyData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"py-4"},"Timeline: "),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"main-timeline"},t&&t.map((function(e){return r.a.createElement("div",{className:"timeline"},r.a.createElement("span",{className:"timeline-icon"}),r.a.createElement("span",{className:"year"},e.date),r.a.createElement("div",{className:"timeline-content"},r.a.createElement("h2",{className:"title"},"Specifications:"),r.a.createElement("p",{className:"pb-3 description"},e.specifications),r.a.createElement("a",{href:e.url,className:"btn btn-outline-dark"},"View Medical File")))})))))),r.a.createElement("hr",null))}var Se=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault(),n.props.updateDonorInfo(n.props.match.params.id,n.props.donor.currentDonor)},n.handleSubmitHistory=function(e){var t=n.props.donor.currentDonor.history||[];t.push(e),n.props.updateDonorInfo(n.props.match.params.id,{history:t})},n.handleInputChange=function(e){e.preventDefault();var t={name:e.target.name,value:e.target.value};n.props.changeCurrentDonorInfo(t)},n.routeChange=n.routeChange.bind(Object(Ne.a)(n)),n.state={modal:!1,firstTime:!0,name:"",email:"",age:"",weight:"",phone_number:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getCurrentDonorById(this.props.match.params.id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"routeChange",value:function(){this.props.history.push("/dashboard/donors")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(ye.a,{style:{paddingTop:"30px",paddingBottom:"30px"}},r.a.createElement(E.a,{outline:!0,color:"secondary",onClick:this.routeChange},"Back"),r.a.createElement("h3",{style:{marginTop:"30px"}},"Edit Donors Log"),r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"donor"},"Donor"),r.a.createElement(R.a,{required:!0,input:"text",name:"name",id:"donor",value:this.props.donor.currentDonor&&this.props.donor.currentDonor.name||"",placeholder:"Add Name donor",onChange:this.handleInputChange}),r.a.createElement(T.a,{htmlFor:"email"},"Email"),r.a.createElement(R.a,{required:!0,input:"email",name:"email",id:"email",value:this.props.donor.currentDonor.email||"",placeholder:"Add Email",onChange:this.handleInputChange}),r.a.createElement(T.a,{htmlFor:"age"},"Age"),r.a.createElement(R.a,{required:!0,input:"text",name:"age",id:"age",value:this.props.donor.currentDonor.age||"",placeholder:"Add Age",onChange:this.handleInputChange}),r.a.createElement(T.a,{htmlFor:"weight"},"Weight"),r.a.createElement(R.a,{required:!0,input:"text",name:"weight",id:"weight",value:this.props.donor.currentDonor.weight||"",placeholder:"Add weight",onChange:this.handleInputChange}),r.a.createElement(T.a,{htmlFor:"phone_number"},"Phone number"),r.a.createElement(R.a,{required:!0,input:"text",name:"phone_number",id:"phone_number",value:this.props.donor.currentDonor.phone_number||"",placeholder:"Add Phone Number",onChange:this.handleInputChange}),r.a.createElement(E.a,{color:"success",style:{marginTop:"2rem"},block:!0},"Update donor"))))),r.a.createElement("div",{className:"container"},this.props.donor.currentDonor&&r.a.createElement(je,{handleSubmitHistory:this.handleSubmitHistory}),this.props.donor.currentDonor&&r.a.createElement(Ae,{historyData:this.props.donor.currentDonor.history})),!0===this.props.main.isOpenAlert&&r.a.createElement(G,{text:this.props.main.text,style:this.props.main.style,handleClose:this.props.closeAlert}))}}]),a}(n.Component),De=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,main:e.main}}),{getDonors:x,getCurrentDonorById:function(e){return function(t){g.a.get("/api/donors/".concat(e)).then((function(e){t({type:"SET_CURRENT_DONOR",payload:e.data})})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+":GET Donor by ID Failed"),"danger"))}))}},updateDonorInfo:function(e,t){return function(a){g.a.patch("/api/donors/".concat(e),t).then((function(e){a({type:"CHANGE_CURRENT_DONOR_INFO",payload:{name:"isSuccessUpdate",value:!0}}),window.setTimeout((function(){a({type:"CHANGE_CURRENT_DONOR_INFO",payload:{name:"isSuccessUpdate",value:!1}})}),2e3)})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+":Donor Update  Failed"),"danger"))}))}},changeCurrentDonorInfo:function(e){return function(t){return t({type:"CHANGE_CURRENT_DONOR_INFO",payload:e})}}})(Se)),Fe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"EditDonors"},r.a.createElement(Ee,null),r.a.createElement("div",{className:"donorsDetailes"},r.a.createElement(De,null)),r.a.createElement(fe,null))}}]),a}(n.Component),_e=a(29),qe=a(64),Te={msg:{},status:null,id:null},Re={token:null,isAuthenticated:null,isLoading:!1,user:null},Le=a(35),Pe={donors:[],currentDonor:{isSuccessUpdate:!1},loading:!1},Ue={requests:[],appointments:[]},Ie={feedbacks:[],questions:[],isOpenAlert:!1,text:"",style:"success"},Be=Object(_e.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"REGISTER_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(j.a)(Object(j.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},donor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DONORS":return Object(j.a)(Object(j.a)({},e),{},{donors:t.payload,loading:!1});case"CHANGE_CURRENT_DONOR_INFO":return Object(j.a)(Object(j.a)({},e),{},{currentDonor:Object(j.a)(Object(j.a)({},e.currentDonor),{},Object(A.a)({},t.payload.name,t.payload.value))});case"DELETE_DONORS":return Object(j.a)(Object(j.a)({},e),{},{donors:e.donors.filter((function(e){return e._id!==t.payload}))});case"ADD_DONORS":return Object(j.a)(Object(j.a)({},e),{},{donors:[t.payload].concat(Object(Le.a)(e.donors))});case"SET_CURRENT_DONOR":return Object(j.a)(Object(j.a)({},e),{},{currentDonor:Object(j.a)(Object(j.a)({},e.currentDonor),t.payload)});case"DONORS_LOADING":return Object(j.a)(Object(j.a)({},e),{},{loading:!0});default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REQUESTS":return Object(j.a)(Object(j.a)({},e),{},{requests:t.payload});case"GET_APPOINTMENTS":return Object(j.a)(Object(j.a)({},e),{},{appointments:t.payload});case"ADD_REQUESTS":case"ADD_COMMENT":return Object(j.a)(Object(j.a)({},e),{},{requests:[t.payload].concat(Object(Le.a)(e.requests))});default:return e}},main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FEEDBACKS":return Object(j.a)(Object(j.a)({},e),{},{feedbacks:t.payload});case"GET_QUESTIONS":return Object(j.a)(Object(j.a)({},e),{},{questions:t.payload});case"OPEN_ALERT":return Object(j.a)(Object(j.a)({},e),{},{isOpenAlert:!0,text:t.payload.text,style:t.payload.style});case"CLOSE_ALERT":return Object(j.a)(Object(j.a)({},e),{},{isOpenAlert:!1,text:t.payload.text});default:return e}}}),Ge=[qe.a],Qe=Object(_e.e)(Be,{},Object(_e.d)(_e.a.apply(void 0,Ge),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(106);var Me=Object(d.f)(Object(f.b)((function(e){return{request:e.request,auth:e.auth}}),{})((function(e){var t=e.data,a=t.title?new Date(t.date):new Date;return r.a.createElement("div",{className:"row mb-4 "},r.a.createElement("div",{className:" col  card text-center",style:{padding:"0"}},t.viewedBy&&!1===t.viewedBy.includes(e.auth.user._id)?r.a.createElement("div",{className:"card-header custom_header_notification",style:{color:"#B22222"}},r.a.createElement("h5",null,"Notifications")," "," ",r.a.createElement("span",{className:"badge badge-secondary custom_bagde"},"New")):r.a.createElement("div",{className:"card-header"},"Notifications"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title||"No title"),r.a.createElement("p",{className:"card-text"},t.description),r.a.createElement(u.b,{className:"btn btn-primary btn-xl js-scroll-trigger",to:"/notifications/".concat(t._id)},"View notification")),r.a.createElement("div",{className:"card-footer text-muted"},r.a.createElement(re.a,{fromNow:!0},a))))}))),We=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement(L,{options:[{to:"/",name:"Blood D"}],currentLink:"Notifications"}),r.a.createElement("section",{className:"my-5 page-section-notification bg-primary shadow-lg ",id:"about"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8 text-center"},r.a.createElement("h2",{className:"text-white mt-0"}," View all notifications"),r.a.createElement("hr",{className:"divider light my-4"}))))),r.a.createElement("div",{className:"container"},this.props.request.requests&&this.props.request.requests.map((function(e){return r.a.createElement(Me,{data:e})}))))}}]),a}(n.Component),He=Object(d.f)(Object(f.b)((function(e){return{request:e.request}}),{})(We));function Ve(e){var t=e.data.author.length>0?e.data.author[0].toUpperCase()+e.data.author.slice(1):"";return e.data&&r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"comments"},r.a.createElement("article",{className:"comment"},r.a.createElement("a",{className:"comment-img",href:"#non"},r.a.createElement("img",{src:"https://www.greenhandle.in/images/default_profile_greenhandle.png?%3E",alt:"",width:"50",height:"50"})),r.a.createElement("div",{className:"comment-body"},r.a.createElement("div",{className:"text"},r.a.createElement("p",null,e.data.description||"no")),r.a.createElement("p",{className:"attribution"},"by ",r.a.createElement("a",{href:"#non"},t||"anonymus")," |"," ",r.a.createElement(re.a,{fromNow:!0},e.data.date))))))}var ze=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" py-3 shadow-sm p-3 mb-5 bg-white rounded"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card",style:{width:"100%"}},r.a.createElement("div",{className:"card-header",style:{background:"#03A9F4"}},r.a.createElement("h4",{className:"mb-0"},"Comments:")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"text"},this.props.comments.length&&this.props.comments.map((function(e){return r.a.createElement(Ve,{data:e})}))))))))}}]),a}(n.Component),Ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={comments:""},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.props.match.params.id;e.props.request.requests&&e.props.request.requests.map((function(t,n){if(t._id===a){var r=t.comments,o={author:e.props.auth.user.name,author_id:e.props.auth.user._id,description:e.state.comments,date:new Date};r.push(o),e.setState({comments:""}),e.props.addComment(a,r)}return null}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.getRequests(),null!==this.props.auth.user){var t=this.props.auth.user._id;this.props.request.requests&&this.props.request.requests.map((function(a,n){if(a._id===e.props.match.params.id){var r=a.viewedBy;!1===r.includes(t)&&(r.push(t),e.props.updateViewField(a._id,r))}return null}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.request.requests&&this.props.auth.user&&this.props.request.requests.map((function(t,a){return t._id===e.props.match.params.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement(L,{options:[{to:"/",name:"Blood D"},{to:"/notifications",name:"Notifications"}],currentLink:"Donare Sange"}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notification",style:{marginLeft:"200px",marginRight:"200px"}},r.a.createElement("div",{className:"col jumbotron shadow-lg p-5 my-5 bg-white rounded",style:{borderRadius:"4px"}},r.a.createElement("h1",{className:"display-4",style:{opacity:"0.8",color:"#800000"}},"Import notification"),r.a.createElement("h3",null,"Title: ",t.title),r.a.createElement("p",{className:"lead my-5"}," ",t.description),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,r.a.createElement("span",{className:"author",style:{color:"#B22222"}},t.author)," ","requests"," ",r.a.createElement("span",{className:"request"},t.blood_type," !")),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("span",null,r.a.createElement(re.a,{fromNow:!0},new Date(t.date)))))),r.a.createElement("div",{className:"container",style:{maxWidth:"1500px"}},r.a.createElement("div",{className:"py-3"},r.a.createElement(Oe.a,null,r.a.createElement(we.a,{style:{width:"100%"}},r.a.createElement(ke.a,null,r.a.createElement("h4",{className:"mb-0"},"Add comment ")),r.a.createElement(xe.a,null,r.a.createElement(_.a,{onSubmit:e.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"request"},r.a.createElement("h5",{className:"mb-0"},e.props.auth.user.name)),r.a.createElement(R.a,{className:"my-4",required:!0,input:"text",name:"comments",value:e.state.comments,id:"comments",placeholder:"Add comments",onChange:e.onChange}),r.a.createElement(E.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Add a comment"))))))),r.a.createElement("hr",null),r.a.createElement(ze,{comments:t.comments})),!0===e.props.main.isOpenAlert&&r.a.createElement(G,{text:e.props.main.text,style:e.props.main.style,handleClose:e.props.closeAlert})):null})))}}]),a}(n.Component),Je=Object(d.f)(Object(f.b)((function(e){return{request:e.request,auth:e.auth,main:e.main}}),{addComment:function(e,t){return function(a){return g.a.patch("/api/request/".concat(e),{comments:t}).then((function(e){a(v("Add Comment Successfully","success"))})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Add Comment Failed"),"danger"))}))}},getRequests:le,updateViewField:ce})(Ye)),Ke=a(4),Xe=a.n(Ke),$e=a(44),Ze=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(A.a)({},e.target.name,e.target.value))},n.toggle=function(){n.props.handleClose(!n.props.isOpen)},n.onSubmit=function(e){if(e.preventDefault(),""!==n.state.rating&&""!==n.state.typeOfFeedback&&""!==n.state.description){var t={rating:n.state.rating,typeOfFeedback:n.state.typeOfFeedback,description:n.state.description};n.props.addFeedback(t)}n.props.handleClose(!1)},n.state={rating:"",typeOfFeedback:"",description:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{isOpen:this.props.isOpen,toggle:this.toggle},r.a.createElement(D.a,null,"Feedback"),r.a.createElement(F.a,null,r.a.createElement(_.a,null,r.a.createElement(q.a,null,r.a.createElement("h4",null,"We would like your feedback to improve our website."),r.a.createElement("h6",null,"What is your opinion of this page?"),r.a.createElement("div",{className:"customModalBody"},r.a.createElement("button",{className:Xe()("btn",{"btn-danger":"1"===this.state.rating}),onClick:function(){return e.setState({rating:"1"})}},r.a.createElement("i",{className:"far fa-smile-wink"})," ",this.state.rating),r.a.createElement("button",{className:Xe()("btn",{"btn-danger":"2"===this.state.rating}),onClick:function(){return e.setState({rating:"2"})}},r.a.createElement("i",{className:"far fa-smile-wink"})),r.a.createElement("button",{className:Xe()("btn",{"btn-primary":"3"===this.state.rating}),onClick:function(){return e.setState({rating:"3"})}},r.a.createElement("i",{className:"far fa-smile-wink"})),r.a.createElement("button",{className:Xe()("btn",{"btn-info":"4"===this.state.rating}),onClick:function(){return e.setState({rating:"4"})}},r.a.createElement("i",{className:"far fa-smile-wink"})),r.a.createElement("button",{className:Xe()("btn",{"btn-success":"5"===this.state.rating}),onClick:function(){return e.setState({rating:"5"})}},r.a.createElement("i",{className:"far fa-smile-wink"}))),r.a.createElement("hr",null),r.a.createElement("h6",null,"Please select your feedback category below."),r.a.createElement("div",{className:"customModalBody"},r.a.createElement("button",{className:Xe()("btn",{"btn-primary":"suggestion"===this.state.typeOfFeedback}),onClick:function(){return e.setState({typeOfFeedback:"suggestion"})}},"Suggestion"),r.a.createElement("button",{className:Xe()("btn",{"btn-danger":"bug"===this.state.typeOfFeedback}),onClick:function(){return e.setState({typeOfFeedback:"bug"})}},"Bug"),r.a.createElement("button",{className:Xe()("btn",{"btn-success":"compliment"===this.state.typeOfFeedback}),onClick:function(){return e.setState({typeOfFeedback:"compliment"})}},"Compliment")),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Please tell us something."),r.a.createElement("textarea",{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},className:"form-control",id:"exampleFormControlTextarea1",rows:"3",required:!0})),r.a.createElement(E.a,{onClick:this.onSubmit,color:"success",style:{marginTop:"2rem"},block:!0},"Send Feedback"),r.a.createElement(E.a,{onClick:function(){return e.props.handleClose(!1)},color:"dark",style:{marginTop:"2rem"},block:!0},"Cancel"))))))}}]),a}(n.Component),et=Object(f.b)((function(e){return{auth:e.auth}}),{})(Ze),tt=function(){return function(e){g.a.get("/api/feedback").then((function(t){e({type:"GET_FEEDBACKS",payload:t.data})})).catch((function(t){return e(v("[".concat(t.response.status,"] : ").concat(t.response.data+": :Feedbacks Failed"),"danger"))}))}},at=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(A.a)({},e.target.name,e.target.value))},n.toggle=function(){n.props.handleClose(!n.props.isOpen)},n.onSubmit=function(e){if(e.preventDefault(),""!==n.state.author&&""!==n.state.question){var t={author:n.state.author,email:n.state.email,question:n.state.question};n.props.addQuestion(t)}n.props.handleClose(!1)},n.state={author:"",email:"",question:""},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{isOpen:this.props.isOpen,toggle:this.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Question"),r.a.createElement(F.a,null,r.a.createElement(_.a,null,r.a.createElement(q.a,null,r.a.createElement("h3",null,"Ask a question."),r.a.createElement("h6",null,"Please contact us for specific reasons"),r.a.createElement(T.a,{htmlFor:"author"},"Name"),r.a.createElement(R.a,{required:!0,input:"text",name:"author",id:"author",value:this.state.author,placeholder:"Add Your Name",onChange:this.onChange}),r.a.createElement(T.a,{htmlFor:"email"},"Email:"),r.a.createElement(R.a,{required:!0,type:"email",name:"email",id:"email",value:this.state.email,placeholder:"Add email",onChange:this.onChange}),r.a.createElement(T.a,{htmlFor:"question"},"Question:"),r.a.createElement(R.a,{required:!0,type:"text",name:"question",id:"question",value:this.state.question,placeholder:"Add question",onChange:this.onChange}),r.a.createElement(E.a,{onClick:this.onSubmit,color:"success",style:{marginTop:"2rem"},block:!0},"Submit"))))))}}]),a}(n.Component),nt=Object(f.b)((function(e){return{auth:e.auth}}),{})(at);var rt=Object(d.f)(Object(f.b)((function(e){return{}}),{addFeedback:function(e){return function(t){return g.a.post("/api/feedback",e).then((function(e){t(v("Add Feedback Successfully","success"))})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Add Feedback Failed"),"danger"))}))}},addQuestion:function(e){return function(t){return g.a.post("/api/question",e).then((function(e){t(v("Add Question Successfully","success"))})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Add Question Failed"),"danger"))}))}}})((function(e){var t=Object(n.useState)(!1),a=Object($e.a)(t,2),o=a[0],s=a[1],c=Object(n.useState)(!1),l=Object($e.a)(c,2),i=l[0],m=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageOptions"},r.a.createElement("div",{className:"btn-group dropleft"},r.a.createElement("button",{type:"button",className:"btn btn-info dropdown-toggle btn-lg btn-circle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),r.a.createElement("div",{className:"dropdown-menu customDropLeft","x-placement":"left-start"},r.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return s(!0)}},"Add feedback"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return m(!0)}},"FAQ")))),r.a.createElement(et,{isOpen:o,handleClose:s,addFeedback:e.addFeedback}),r.a.createElement(nt,{isOpen:i,handleClose:m,addQuestion:e.addQuestion}))}))),ot=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isOpen:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getDonors()}},{key:"render",value:function(){var e=this;return!1===this.props.auth.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("nav",{id:"sidebar",className:Xe()("navbar navbar-expand-lg navbar-light col-xs-2 col-sm-2 col-md-2 d-md-block sidebar custom-sidebar",{isHide:!1===this.state.isOpen})},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement("h6",{onClick:function(t){return e.setState({isOpen:!e.state.isOpen})},className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},r.a.createElement("i",{className:"fas fa-bars anchor"})),r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:Xe()("nav-link",{active:"/dashboard"===window.location.pathname}),to:"/dashboard"},r.a.createElement("i",{className:"fab fa-mendeley"})," ",r.a.createElement("span",{className:"title"},"Dashboard"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:Xe()("nav-link",{active:"/dashboard/appointment"===window.location.pathname}),to:"/dashboard/appointment"},r.a.createElement("i",{className:"fas fa-folder-minus"})," ",r.a.createElement("span",{className:"title"},"My appointments"))),this.props.auth.user&&"donor"===this.props.auth.user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:Xe()("nav-link",{active:"/dashboard/timetable"===window.location.pathname}),to:"/dashboard/timetable"},r.a.createElement("i",{className:"fas fa-users"})," ",r.a.createElement("span",{className:"title"},"Timetable"))),this.props.auth.user&&"admin"===this.props.auth.user.role&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:Xe()("nav-link",{active:"/dashboard/questions"===window.location.pathname}),to:"/dashboard/questions"},r.a.createElement("i",{className:"fas fa-folder-minus"})," ",r.a.createElement("span",{className:"title"},"Questions"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:Xe()("nav-link",{active:"/dashboard/donors"===window.location.pathname}),to:"/dashboard/donors"},r.a.createElement("i",{className:"fas fa-users"})," ",r.a.createElement("span",{className:"title"},"Donors Lists"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{className:Xe()("nav-link",{active:"/dashboard/feedback"===window.location.pathname}),to:"/dashboard/feedback"},r.a.createElement("i",{className:"fas fa-users"})," ",r.a.createElement("span",{className:"title"},"Feedbacks"))))),r.a.createElement("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},r.a.createElement("i",{className:"fas fa-question-circle"})))),r.a.createElement("main",{role:"main",id:"main",className:"custom_main col-xs-2 col-sm-9 col-md-9 ml-sm-auto col-lg-10 pt-3 px-4"},this.props.children))),r.a.createElement(rt,null),!0===this.props.main.isOpenAlert&&r.a.createElement(G,{text:this.props.main.text,style:this.props.main.style,handleClose:this.props.closeAlert}),r.a.createElement(fe,null)):r.a.createElement(I,null)}}]),a}(n.Component),st=Object(d.f)(Object(f.b)((function(e){return{request:e.request,auth:e.auth,main:e.main}}),{getRequests:le,getDonors:x,closeAlert:function(){return function(e){return e({type:"CLOSE_ALERT",payload:{text:""}})}}})(ot));function ct(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{isOpen:e.isOpen,toggle:e.toggle},r.a.createElement(D.a,{toggle:e.toggle},"Confirm Modal"),r.a.createElement(F.a,null,r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"name"},e.question),r.a.createElement(E.a,{onClick:function(){return e.toggle(),e.handleAnswer("continue")},className:"btn btn-default",color:"outline-success",style:{marginTop:"2rem"},block:!0},"Continue"),r.a.createElement(E.a,{onClick:function(){return e.toggle(),e.handleAnswer("cancel")},className:"btn btn-default",color:"outline-danger",style:{marginTop:"2rem"},block:!0},"Cancel")))))}var lt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.toggleConfirm=function(){n.setState({isOpenConfirm:!n.state.isOpenConfirm})},n.handleSendApp=function(){},n.handleStatus=function(){var e=Object(ve.a)(ge.a.mark((function e(t,a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.updateAppointment(t,a),e.next=3,n.props.getAppointment();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleAnswer=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cancel"!==t){e.next=4;break}n.setState({isOpenConfirm:!1,questionConfirm:""}),e.next=8;break;case 4:if("continue"!==t){e.next=8;break}return n.props.updateFeedback(n.state.idAppointment,n.state.status),e.next=8,n.props.getFeedbacks();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.filterData=function(e,t,a){if(""===n.state.searchText||e.includes(n.state.searchText)||t.includes(n.state.searchText)||a.includes(n.state.searchText)){if("pending"===a.toLowerCase()&&!0===n.state.checkboxPending)return!0;if("accepted"===a.toLowerCase()&&!0===n.state.checkboxAccepted)return!0;if("denied"===a.toLowerCase()&&!0===n.state.checkboxDenied)return!0}return!1},n.state={isOpen:!1,isOpenConfirm:!1,questionConfirm:"",idAppointment:"",searchText:"",status:"",checkboxDenied:!0,checkboxAccepted:!0,checkboxPending:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getFeedbacks()}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{options:[{to:"/",name:"Blood Donation"}],currentLink:"Feedbacks"}),t&&"admin"===t.role&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group mb-3 mt-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search",value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},"aria-label":"Username","aria-describedby":"basic-addon1"})),r.a.createElement("div",{className:"input-group mb-3 mt-3"},r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxPending,onChange:function(){return e.setState({checkboxPending:!e.state.checkboxPending})},id:"checkboxPending"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxPending"},"Pending")),r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxAccepted,onChange:function(){return e.setState({checkboxAccepted:!e.state.checkboxAccepted})},id:"checkboxAccepted"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxAccepted"},"Accepted")),r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxDenied,onChange:function(){return e.setState({checkboxDenied:!e.state.checkboxDenied})},id:"checkboxDenied"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxDenied"},"Denied"))),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Rating"),r.a.createElement("th",{scope:"col"},"Type OF"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{className:"text-center",scope:"col"},"Actions"))),r.a.createElement("tbody",null,this.props.main.feedbacks&&this.props.main.feedbacks.map((function(t,a){var n=t._id,o=t.rating,s=t.typeOfFeedback,c=t.description,l=t.status,i=void 0===l?"pending":l;return!0===e.filterData(s.toLowerCase(),c.toLowerCase(),i)?r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,i.toUpperCase()),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{title:"Accepted",onClick:function(){return e.setState({isOpenConfirm:!0,questionConfirm:"Are you sure you wanna publish this feedback?",idAppointment:n,status:"Accepted"})},className:"btn btn-success mx-2"},"Accepted"),r.a.createElement("button",{title:"Denied",onClick:function(){return e.setState({isOpenConfirm:!0,questionConfirm:"Are you sure you wanna denie this appointment?",idAppointment:n,status:"Denied"})},className:"btn btn-danger"},"Denied"))):null}))))),r.a.createElement(ct,{isOpen:this.state.isOpenConfirm,toggle:this.toggleConfirm,question:this.state.questionConfirm,handleAnswer:this.handleAnswer}))}}]),a}(n.Component),it=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,isAuthenticated:e.auth.isAuthenticated,auth:e.auth,request:e.request,main:e.main}}),{getFeedbacks:tt,updateFeedback:function(e,t){return function(a){g.a.patch("/api/feedback/".concat(e),{status:t}).then((function(e){a(v("Update Feedback Successfully","success"))})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Update Feedback Failed"),"danger"))}))}}})(lt)),mt=a(65);var ut=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,isAuthenticated:e.auth.isAuthenticated,auth:e.auth}}),{})((function(e){return mt.isEmpty(e.auth.user)?r.a.createElement("h1",null,"lod"):r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{options:[{to:"/",name:"Blood D"}],currentLink:"Timeline"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e.auth&&"donor"===e.auth.user.role&&e.donor.donors.map((function(t){return e.auth.user.email===t.email?r.a.createElement(Ae,{historyData:t.history}):null})))))})));var dt=Object(d.f)(Object(f.b)((function(e){return{auth:e.auth,main:e.main}}),{})((function(e){return 0===e.main.feedbacks.length?r.a.createElement(I,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"masthead"},r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row h-100 align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"col-lg-10 align-self-end"},r.a.createElement("h1",{className:"text-uppercase text-white font-weight-bold"},"Blood donation has never been easier"),r.a.createElement("hr",{className:"divider my-4"})),r.a.createElement("div",{className:"col-lg-8 align-self-baseline"},r.a.createElement("p",{className:"text-white-75 font-weight-light mb-5"},"We believe that this is the only way we will succeed. And as a team, and as a country. We trust each other and welcome them with open arms on each of those who want to get involved."),r.a.createElement("a",{className:"btn btn-primary btn-xl js-scroll-trigger",href:"#about"},"Find Out More"))))),r.a.createElement("section",{className:"page-section bg-primary",id:"about"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8 text-center"},r.a.createElement("h2",{className:"text-white mt-0"},"We've got what you need!"),r.a.createElement("hr",{className:"divider light my-4"}),r.a.createElement("p",{className:"text-white-50 mb-4"},"We will ensure transparency at all times, honesty and respect for the beneficiaries of our design, our partners and support."),r.a.createElement("a",{className:"btn btn-light btn-xl js-scroll-trigger",href:"#services"},"Get Started!"))))),r.a.createElement("section",{className:"page-section",id:"services"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center mt-0"},"At Your Service"),r.a.createElement("hr",{className:"divider my-4"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-6 text-center"},r.a.createElement("div",{className:"mt-5"},r.a.createElement(oe.a,{icon:se.g,color:"#03A9F4",size:"5x"}),r.a.createElement("h3",{className:"h4 mb-2"},"Free Account"),r.a.createElement("p",{className:"text-muted mb-0"},"We offer you the information you need."))),r.a.createElement("div",{className:"col-lg-3 col-md-6 text-center"},r.a.createElement("div",{className:"mt-5"},r.a.createElement(oe.a,{icon:se.d,color:"#03A9F4",size:"5x"}),r.a.createElement("h3",{className:"h4 mb-2"},"Up to Date"),r.a.createElement("p",{className:"text-muted mb-0"},"Every moment, at least one man needs blood."))),r.a.createElement("div",{className:"col-lg-3 col-md-6 text-center"},r.a.createElement("div",{className:"mt-5"},r.a.createElement(oe.a,{icon:se.e,color:"#03A9F4",size:"5x"}),r.a.createElement("h3",{className:"h4 mb-2"},"You can Donate Blood"),r.a.createElement("p",{className:"text-muted mb-0"},"Make an appointment at one of the partner centers and donate blood."))),r.a.createElement("div",{className:"col-lg-3 col-md-6 text-center"},r.a.createElement("div",{className:"mt-5"},r.a.createElement(oe.a,{icon:se.c,color:"#03A9F4",size:"5x"}),r.a.createElement("h3",{className:"h4 mb-2"},"Made with Love"),r.a.createElement("p",{className:"text-muted mb-0"},"The project was based on your support.")))))),r.a.createElement("section",{className:"page-section",id:"services"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center mt-0"},"Top feedbacks"),r.a.createElement("hr",{className:"divider my-4"}),r.a.createElement("div",{className:"row"},e.main.feedbacks&&e.main.feedbacks.map((function(e,t){return"compliment"===e.typeOfFeedback?r.a.createElement("div",{className:"col-lg-3 col-md-6 text-center"},r.a.createElement("div",{className:"mt-5"},"5"===e.rating&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"})),"4"===e.rating&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"})),"3"===e.rating&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"})),"2"===e.rating&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-star"}),r.a.createElement("i",{className:"far fa-star"})),"1"===e.rating&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-star"})),r.a.createElement("h3",{className:"h4 mb-2"},e.typeOfFeedback.toUpperCase()),r.a.createElement("p",{className:"text-muted mb-0"},e.description))):null}))))),r.a.createElement("section",{className:"page-section",id:"contact"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8 text-center"},r.a.createElement("h2",{className:"mt-0"},"Let's Get In Touch!"),r.a.createElement("hr",{className:"divider my-4"}),r.a.createElement("p",{className:"text-muted mb-5"},"This app is for Blood Donation Management."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 ml-auto text-center mb-5 mb-lg-0"},r.a.createElement(oe.a,{icon:se.f,size:"3x"}),r.a.createElement("div",null,"+1 (555) 123-4567")),r.a.createElement("div",{className:"col-lg-4 mr-auto text-center"},r.a.createElement(oe.a,{icon:se.b,size:"3x"}),r.a.createElement("a",{className:"d-block",href:"mailto:blood.donation.management.free@gmail.com"},"blood.donation.management.free@gmail.com"))))),r.a.createElement(G,{data:"Mesaj din home page"}))}))),pt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoadedState:n.props.auth.isLoading||null},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ee,null),r.a.createElement(dt,null),r.a.createElement(fe,null),!0===this.props.main.isOpenAlert&&r.a.createElement(G,{text:this.props.main.text,style:this.props.main.style,handleClose:this.props.closeAlert}))}}]),a}(n.Component),ht=Object(d.f)(Object(f.b)((function(e){return{auth:e.auth,main:e.main}}),{})(pt)),Et=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(A.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t={name:n.state.name,email:n.state.email,date:n.state.date,idDonor:n.props.auth.user._id};n.props.addAppointment(t),n.props.handleSendApp(),n.props.toggle()},n.state={name:n.props.name,email:n.props.email,date:""},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Make an Appointment"),r.a.createElement(F.a,null,r.a.createElement(_.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{htmlFor:"name"},"Name"),r.a.createElement(R.a,{type:"text",name:"name",id:"name",value:this.state.name,placeholder:"Name",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{htmlFor:"email"},"Email"),r.a.createElement(R.a,{type:"text",name:"email",id:"email",value:this.state.email,placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{htmlFor:"exampleDate"},"Date"),r.a.createElement(R.a,{type:"date",name:"date",id:"date",value:this.state.date,onChange:this.onChange,placeholder:"date placeholder"}),r.a.createElement(E.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Send"))))))}}]),a}(n.Component),ft=Object(f.b)((function(e){return{auth:e.auth}}),{addAppointment:function(e){return function(t){g.a.post("/api/appointment",e).then((function(e){if(e.data.errors)return console.log(e.data);t(v("Add Appointment Successfully","success"))})).catch((function(e){return t(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Add Appointment Failed"),"danger"))}))}}})(Et),bt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.toggleConfirm=function(){n.setState({isOpenConfirm:!n.state.isOpenConfirm})},n.handleSendApp=function(){n.props.getAppointment()},n.handleStatus=function(){var e=Object(ve.a)(ge.a.mark((function e(t,a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.updateAppointment(t,a),e.next=3,n.props.getAppointment();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleAnswer=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cancel"!==t){e.next=4;break}n.setState({isOpenConfirm:!1,questionConfirm:""}),e.next=8;break;case 4:if("continue"!==t){e.next=8;break}return n.props.updateAppointment(n.state.idAppointment,n.state.status,n.state.nameOfDonor,n.state.emailOfDonor,"",n.props.auth.user.name.toUpperCase(),n.state.dateOfDonor.toString()),e.next=8,n.props.getAppointment();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.filterData=function(e,t,a){if(""===n.state.searchText||e.includes(n.state.searchText)||t.includes(n.state.searchText)||a.includes(n.state.searchText)){if("pending"===a.toLowerCase()&&!0===n.state.checkboxPending)return!0;if("accepted"===a.toLowerCase()&&!0===n.state.checkboxAccepted)return!0;if("denied"===a.toLowerCase()&&!0===n.state.checkboxDenied)return!0}return!1},n.handleAppointmentsView=function(){var e=Object(ve.a)(ge.a.mark((function e(t,a){var r;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.next=3,t.map((function(e){e.name,e.date;var t=e.idDonor,n=e.status;a===t&&("pending"!==n&&"Accepted"!==n||(r=!1))}));case 3:n.state.showAddBtn!==r&&n.setState({showAddBtn:r});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={isOpen:!1,isOpenConfirm:!1,questionConfirm:"",idAppointment:"",nameOfDonor:"",emailOfDonor:"",dateOfDonor:"",searchText:"",status:"",checkboxDenied:!0,checkboxAccepted:!0,checkboxPending:!0,showAddBtn:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getAppointment()}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return r.a.createElement("div",null,r.a.createElement(L,{options:[{to:"/",name:"Blood Donation"}],currentLink:"Appointments"}),t&&"donor"===t.role&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col p-4"})),r.a.createElement(p.a,null,r.a.createElement(h.a,{active:!0},"My Appointments",t&&"donor"===t.role&&this.handleAppointmentsView(this.props.request.appointments,t._id)&&!0===this.state.showAddBtn&&r.a.createElement(E.a,{className:"appointment-btn float-right ",color:"warning",size:"sm",onClick:this.toggle},"Add appointment")),t&&"donor"===t.role&&this.props.request.appointments&&this.props.request.appointments.map((function(e){var a=e.name,n=e.date,o=e.idDonor,s=e.status;return t._id===o?r.a.createElement(h.a,null,r.a.createElement(r.a.Fragment,null,a," - ",r.a.createElement(re.a,{format:"DD/MM/YYYY"},n)," | Status : ",s)):null}))),t&&"admin"===t.role&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group mb-3 mt-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search",value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},"aria-label":"Username","aria-describedby":"basic-addon1"})),r.a.createElement("div",{className:"input-group mb-3 mt-3"},r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxPending,onChange:function(){return e.setState({checkboxPending:!e.state.checkboxPending})},id:"checkboxPending"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxPending"},"Pending")),r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxAccepted,onChange:function(){return e.setState({checkboxAccepted:!e.state.checkboxAccepted})},id:"checkboxAccepted"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxAccepted"},"Accepted")),r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxDenied,onChange:function(){return e.setState({checkboxDenied:!e.state.checkboxDenied})},id:"checkboxDenied"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxDenied"},"Denied"))),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Date"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{className:"text-center",scope:"col"},"Actions"))),r.a.createElement("tbody",null,this.props.request.appointments&&this.props.request.appointments.map((function(t,a){var n=t._id,o=t.name,s=t.email,c=t.date,l=t.status,i=void 0===l?"pending":l;t.idDonor;return!0===e.filterData(o,s,i)?r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null," ",r.a.createElement(re.a,{format:"DD/MM/YYYY"},c)),r.a.createElement("td",null,i.toUpperCase()),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{title:"Accepted",onClick:function(){return e.setState({isOpenConfirm:!0,questionConfirm:"Are you sure you wanna accept this appointment?",idAppointment:n,status:"Accepted",nameOfDonor:o,emailOfDonor:s,dateOfDonor:c})},className:"btn btn-success mx-2"},"Accepted"),r.a.createElement("button",{title:"Denied",onClick:function(){return e.setState({isOpenConfirm:!0,questionConfirm:"Are you sure you wanna denie this appointment?",idAppointment:n,status:"Denied",nameOfDonor:o,emailOfDonor:s,dateOfDonor:c})},className:"btn btn-danger"},"Denied"))):null}))))),t&&"donor"===t.role&&r.a.createElement(ft,{name:t.name,email:t.email,isOpen:this.state.isOpen,toggle:this.toggle,handleSendApp:this.handleSendApp}),r.a.createElement(ct,{isOpen:this.state.isOpenConfirm,toggle:this.toggleConfirm,question:this.state.questionConfirm,handleAnswer:this.handleAnswer}))}}]),a}(n.Component),gt=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,isAuthenticated:e.auth.isAuthenticated,auth:e.auth,request:e.request}}),{getAppointment:function(){return function(e){g.a.get("/api/appointment").then((function(t){e({type:"GET_APPOINTMENTS",payload:t.data})})).catch((function(t){return e(v("[".concat(t.response.status,"] : ").concat(t.response.data+": :GET  Appointments Failed"),"danger"))}))}},updateAppointment:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Gliga Dumitru",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gliga_dumitru@yahoo.com",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Hospital Nr.5",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"12.12.202 12:15AM";return function(c){g.a.patch("/api/appointment/".concat(e),{status:t}).then((function(e){c(v("Appointment Updated Successfully","success"));var l,i={title:"Thank you for your appointment!",details:"The donation center: ".concat(o,", is waiting for you on ").concat(s,". Take care of you!")},m={title:"About your appointment!",details:"The donation center: ".concat(o,", has canceled your appointment. Please make another appointment!")};l="Accepted"===t?i:m,g.a.post("/api/email",{name:a,email:n,linkTo:r,title:l.title,details:l.details}).then((function(e){return"failed"!==e.data.status?c(v("Email sent Successfully!","info")):c(v("Email not sent!","danger"))})).catch((function(e){return console.log("email not send")}))})).catch((function(e){return c(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Update Appointment Failed"),"danger"))}))}}})(bt)),vt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.toggleConfirm=function(){n.setState({isOpenConfirm:!n.state.isOpenConfirm})},n.handleSendApp=function(){n.props.getQuestions()},n.handleStatus=function(){var e=Object(ve.a)(ge.a.mark((function e(t,a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.updateQuestions(t,{status:a}),e.next=3,n.props.getQuestions();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleAnswer=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cancel"!==t){e.next=4;break}n.setState({isOpenConfirm:!1,questionConfirm:""}),e.next=8;break;case 4:if("continue"!==t){e.next=8;break}return n.props.updateQuestions(n.state.idQuestion,{status:n.state.status}),e.next=8,n.props.getQuestions();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleResponseAnswer=function(){var e=Object(ve.a)(ge.a.mark((function e(t,a){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.updateQuestions(a,{answer:t.currentTarget.textContent});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.filterData=function(e,t,a){if(""===n.state.searchText||e&&e.includes(n.state.searchText)||t&&t.includes(n.state.searchText)||a&&a.includes(n.state.searchText)){if("pending"===a.toLowerCase()&&!0===n.state.checkboxPending)return!0;if("accepted"===a.toLowerCase()&&!0===n.state.checkboxAccepted)return!0;if("denied"===a.toLowerCase()&&!0===n.state.checkboxDenied)return!0}return!1},n.state={isOpen:!1,isOpenConfirm:!1,questionConfirm:"",idQuestion:"",searchText:"",status:"",checkboxDenied:!0,checkboxAccepted:!0,checkboxPending:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getQuestions()}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return r.a.createElement("div",null,r.a.createElement(L,{options:[{to:"/",name:"Blood Donation"}],currentLink:"Questions"}),t&&"admin"===t.role&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group mb-3 mt-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search",value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},"aria-label":"Username","aria-describedby":"basic-addon1"})),r.a.createElement("div",{className:"input-group mb-3 mt-3"},r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxPending,onChange:function(){return e.setState({checkboxPending:!e.state.checkboxPending})},id:"checkboxPending"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxPending"},"Pending")),r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxAccepted,onChange:function(){return e.setState({checkboxAccepted:!e.state.checkboxAccepted})},id:"checkboxAccepted"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxAccepted"},"Accepted")),r.a.createElement("div",{className:"custom-control custom-checkbox custom-control-inline"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:this.state.checkboxDenied,onChange:function(){return e.setState({checkboxDenied:!e.state.checkboxDenied})},id:"checkboxDenied"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"checkboxDenied"},"Denied"))),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Author"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Question"),r.a.createElement("th",{scope:"col"},"Answer"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{className:"text-center",scope:"col"},"Actions"))),r.a.createElement("tbody",null,this.props.main.questions&&this.props.main.questions.map((function(t,a){var n=t._id,o=t.author,s=t.email,c=t.question,l=t.answer,i=t.status,m=void 0===i?"pending":i;return!0===e.filterData(o,s,m)?r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",{contentEditable:!0,onInput:function(t){e.handleResponseAnswer(t,n)}},l),r.a.createElement("td",null,m.toUpperCase()),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{title:"Accepted",onClick:function(){return e.setState({isOpenConfirm:!0,questionConfirm:"Are you sure you wanna accept this question?",idQuestion:n,status:"Accepted"})},className:"btn btn-success mx-2"},"Accepted"),r.a.createElement("button",{title:"Denied",onClick:function(){return e.setState({isOpenConfirm:!0,questionConfirm:"Are you sure you wanna denie this question?",idQuestion:n,status:"Denied"})},className:" btn btn-danger"},"Denied"))):null}))))),r.a.createElement(ct,{isOpen:this.state.isOpenConfirm,toggle:this.toggleConfirm,question:this.state.questionConfirm,handleAnswer:this.handleAnswer}))}}]),a}(n.Component),Nt=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,isAuthenticated:e.auth.isAuthenticated,auth:e.auth,main:e.main}}),{getQuestions:function(){return function(e){g.a.get("/api/question").then((function(t){e({type:"GET_QUESTIONS",payload:t.data})})).catch((function(t){return e(v("[".concat(t.response.status,"] : ").concat(t.response.data+":Questions Failed"),"danger"))}))}},updateQuestions:function(e,t){return function(a){g.a.patch("/api/question/".concat(e),t).then((function(e){a(v("Update Questions Successfully","success"))})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+": Update Questions Failed"),"danger"))}))}}})(vt));function yt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{options:[{to:"/",name:"Blood Donation"}],currentLink:"Dashboard"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"jumbotron p-4 p-md-5 text-white rounded bg-dark shadow-lg p-3 mb-5 rounded"},r.a.createElement("div",{className:"col-md-6 px-0"},r.a.createElement("h1",{className:"display-4 font-italic"},"Blood Donation"),r.a.createElement("p",{className:"lead my-3"},"WE INVITE YOU TO JOIN US, AS WE KNOW THAT YOU HAVE DONE IT UNTIL NOW"))),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-md-6 "},r.a.createElement("div",{className:"row no-gutters border rounded  flex-md-row mb-4 shadow-lg p-3 mb-5 bg-white rounded"},r.a.createElement("div",{className:"col p-4 d-flex flex-column position-static"},r.a.createElement("strong",{className:"d-inline-block mb-2 text-primary"},"World Health Organization"),r.a.createElement("h3",{className:"mb-0"},"Data and statistics"),r.a.createElement("div",{className:"mb-1 text-muted"},"2011"),r.a.createElement("p",{className:"card-text mb-auto"},"Statistics show that one donated unit of whole blood can save up to 3 lives, through separation and use of its components."),r.a.createElement("a",{href:"https://www.euro.who.int/en/health-topics/Health-systems/blood-safety/data-and-statistics",target:"_blank",rel:"noopener noreferrer",className:"stretched-link"},"Continue reading")),r.a.createElement("div",{className:"col-auto d-none d-lg-block"},r.a.createElement("img",{width:"200px",src:"https://ehma.org/wp-content/uploads/2017/07/World-Health-Organization-Logo-e1502197179952.png",alt:""})))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"row no-gutters border rounded  flex-md-row mb-4 shadow-lg p-3 mb-5 bg-white rounded"},r.a.createElement("div",{className:"col p-4 d-flex flex-column position-static"},r.a.createElement("strong",{className:"d-inline-block mb-2 text-success"},"World Health Organization"),r.a.createElement("h3",{className:"mb-0"},"Blood donation low among young people"),r.a.createElement("div",{className:"mb-1 text-muted"},"Jun 2014"),r.a.createElement("p",{className:"mb-auto"},"Over 70% of people aged 18\u201324 years in the WHO European Region have never given blood"),r.a.createElement("a",{href:"https://www.euro.who.int/en/health-topics/Health-systems/blood-safety/news/news/2014/06/blood-donation-low-among-young-people",rel:"noopener noreferrer",target:"_blank",className:"stretched-link"},"Continue reading")),r.a.createElement("div",{className:"col-auto d-none d-lg-block"},r.a.createElement("img",{width:"200px",src:"https://ehma.org/wp-content/uploads/2017/07/World-Health-Organization-Logo-e1502197179952.png",alt:""})))))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 blog-main"},r.a.createElement("h2",{className:"pb-4 mb-4 font-italic border-bottom"},"What to Do Before, During and After Your Donation"),r.a.createElement("div",{className:"blog-post my-4"},r.a.createElement("h2",{className:"blog-post-title ",style:{color:"#DC143C"}},"Additional tips before donating:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Ask a friend to donate at the same time . You can support each other and do twice as much good!"),r.a.createElement("li",null,"Have iron-rich foods, such as red meat, fish, poultry, beans, spinach, iron-fortified cereals or raisins."),r.a.createElement("li",null,"Get a good night's sleep the night before your donation, eat healthy foods and drink extra liquids."),r.a.createElement("li",null,"Keep eating iron-rich foods. "),r.a.createElement("li",null,"If you donate frequently, be sure to take multivitamins with iron to ensure you continue to replenish your iron stores before your next donation."))),r.a.createElement("div",{className:"blog-post my-4"},r.a.createElement("h2",{className:"blog-post-title",style:{color:"#DC143C"}},"Additional tips for the day of your donation:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Drink an extra 16 oz. of water (or other nonalcoholic drink) before your appointment."),r.a.createElement("li",null,"Eat a healthy meal, avoiding fatty foods like hamburgers, fries or ice cream."),r.a.createElement("li",null,"Wear a shirt with sleeves that you can roll up above your elbows."),r.a.createElement("li",null,"Let us know if you have a preferred arm or particular vein that has been used successfully in the past to draw blood."),r.a.createElement("li",null,"Relax, listen to music, talk to other donors or read while you donate."))),r.a.createElement("div",{className:"blog-post my-4"},r.a.createElement("h2",{className:"blog-post-title",style:{color:"#DC143C"}},"Additional tips for after your donation:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Keep the strip bandage on for the next several hours; to avoid a skin rash, clean the area around the bandage with soap and water."),r.a.createElement("li",null,"Don\u2019t do any heavy lifting or vigorous exercise for the rest of the day."),r.a.createElement("li",null,"f the needle site starts to bleed, apply pressure and raise your arm straight up for 5-10 minutes or until bleeding stops."),r.a.createElement("li",null,"Keep eating iron-rich foods. "),r.a.createElement("li",null,"If you donate frequently, be sure to take multivitamins with iron to ensure you continue to replenish your iron stores before your next donation.")))),r.a.createElement("aside",{className:"col-md-4 blog-sidebar "},r.a.createElement("div",{className:"p-4 mb-3 bg-light rounded shadow-lg p-3 mb-5 bg-white rounded"},r.a.createElement("h4",{className:"font-italic"},"Give Blood"),r.a.createElement("p",{className:"mb-0"},"Donating Blood Makes a Big Difference in the Lives of Others."))))),r.a.createElement("footer",{className:"blog-footer"}))}var Ot=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).hanldeChange=function(e){n.setState(Object(A.a)({},e.target.name,e.target.value))},n.handleSubmitDetails=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.props.updateUser(n.props.auth.user._id,{name:n.state.name,phone:n.state.phone,email:n.state.email,address:n.state.address});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePasswordChange=function(){var e=Object(ve.a)(ge.a.mark((function e(t){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.state.newPassword!==n.state.newPassword2){e.next=6;break}return e.next=4,n.props.updateUserPassword(n.props.auth.user._id,{currentPassword:n.state.currentPassword,newPassword:n.state.newPassword,newPassword2:n.state.newPassword2});case 4:e.next=7;break;case 6:alert("New Passwords are not the same! ");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={name:n.props.auth.user&&n.props.auth.user.name||"",email:n.props.auth.user&&n.props.auth.user.email||"",phone:n.props.auth.user&&n.props.auth.user.phone||"",address:n.props.auth.user&&n.props.auth.user.address||"",currentPassword:"",newPassword:"",newPassword2:""},n}return Object(l.a)(a,[{key:"render",value:function(){if(this.props.auth.user&&this.props.auth.user.name){var e=this.props.auth.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{options:[{to:"/",name:"Blood Donation"}],currentLink:"Settings"}),r.a.createElement("div",null,r.a.createElement("div",{className:"bootstrap snippet"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("h1",null,e.name.toUpperCase())),r.a.createElement("div",{className:"col-sm-2"},"Blood Donation")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:"https://socialerasmus.esn.org/sites/default/files/1200-5480-blood-donation-photo1.jpg",className:"avatar img-circle img-thumbnail",alt:"avatar"})),r.a.createElement("hr",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",id:"home"},r.a.createElement("hr",null),r.a.createElement("form",{className:"form",id:"detailsForm",onSubmit:this.handleSubmitDetails},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"name_user"},r.a.createElement("h4",null,"Name")),r.a.createElement("input",{required:!0,onChange:this.hanldeChange,value:this.state.name,type:"text",className:"form-control",name:"name",id:"name",placeholder:"Name",title:"enter your first name if any."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"phone"},r.a.createElement("h4",null,"Phone")),r.a.createElement("input",{minLength:10,required:!0,onChange:this.hanldeChange,pattern:"[0-9]{10}",value:this.state.phone,type:"tel",className:"form-control",name:"phone",id:"phone",placeholder:"enter phone",title:"enter your phone number if any."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("h4",null,"Email")),r.a.createElement("input",{required:!0,onChange:this.hanldeChange,value:this.state.email,type:"email",className:"form-control",name:"email",id:"email",placeholder:"you@email.com",title:"enter your email."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"address"},r.a.createElement("h4",null,"Address")),r.a.createElement("input",{required:!0,onChange:this.hanldeChange,value:this.state.address,type:"text",className:"form-control",name:"address",id:"location",placeholder:"Name",title:"enter your first name if any."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-lg btn-success",type:"submit"},r.a.createElement("i",{className:"glyphicon glyphicon-ok-sign"})," Save")))),r.a.createElement("hr",null),r.a.createElement("form",{className:"form",id:"detailsForm2",onSubmit:this.handlePasswordChange},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"currentPassword"},r.a.createElement("h4",null,"Current Password")),r.a.createElement("input",{required:!0,onChange:this.hanldeChange,value:this.state.currentPassword,type:"password",className:"form-control",name:"currentPassword",id:"currentPassword",placeholder:"Current Password",title:"enter your password."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"newPassword"},r.a.createElement("h4",null,"New Password")),r.a.createElement("input",{required:!0,minLength:6,onChange:this.hanldeChange,value:this.state.newPassword,type:"password",className:"form-control",name:"newPassword",id:"newPassword",placeholder:"New Password",title:"enter your password."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("label",{htmlFor:"newPassword2"},r.a.createElement("h4",null,"Verify New Password")),r.a.createElement("input",{required:!0,minLength:6,type:"password",className:"form-control",onChange:this.hanldeChange,value:this.state.newPassword2,name:"newPassword2",id:"newPassword2",placeholder:"new password verify",title:"enter your password2."}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-lg btn-success",type:"submit"},r.a.createElement("i",{className:"glyphicon glyphicon-ok-sign"})," Change Password"))))))))))))}return null}}]),a}(n.Component),wt=Object(d.f)(Object(f.b)((function(e){return{donor:e.donor,isAuthenticated:e.auth.isAuthenticated,auth:e.auth,main:e.main}}),{updateUser:function(e,t){return function(a){g.a.patch("/api/users/".concat(e),t).then((function(e){a(v("Update User Successfully","success")),a({type:"LOGIN_SUCCESS",payload:e.data})})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+": :Update User Failed"),"danger"))}))}},updateUserPassword:function(e,t){return function(a){g.a.post("/api/users/password/".concat(e),t).then((function(e){a(v("Update User Password Successfully","success")),a({type:"LOGIN_SUCCESS",payload:e.data})})).catch((function(e){return a(v("[".concat(e.response.status,"] : ").concat(e.response.data+e.response.data.msg||": :Update User Failed"),"danger"))}))}}})(Ot)),kt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){Qe.dispatch((function(e,t){e({type:"USER_LOADING"});var a=localStorage.getItem("token");if(null===a||"undefind"===a||a.length<20)localStorage.clear();else{var n=a&&O()(a)._id;a&&g.a.get("/api/auth/user/".concat(n),k(t)).then((function(t){if("failed"!==t.data.status)return e({type:"USER_LOADED",payload:t.data});e(v("Error at load user!","danger"))})).catch((function(t){e(v("[".concat(t.response.status,"] : ").concat(t.response.data+": Error load User"),"danger"))}))}})),Qe.dispatch(tt())}},{key:"render",value:function(){return r.a.createElement(f.a,{store:Qe},r.a.createElement(u.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:ht}),r.a.createElement(d.a,{exact:!0,path:"/donors",component:W}),r.a.createElement(d.a,{exact:!0,path:"/donors/edit/:id",render:function(e){return r.a.createElement(Fe,e)}}),r.a.createElement(d.a,{exact:!0,path:"/request",component:pe}),r.a.createElement(d.a,{exact:!0,path:"/notifications",component:He}),r.a.createElement(d.a,{exact:!0,path:"/notifications/:id",component:Je}),r.a.createElement(d.a,{exact:!0,path:"/dashboard/settings"},r.a.createElement(st,null,r.a.createElement(wt,null))),r.a.createElement(d.a,{exact:!0,path:"/dashboard"},r.a.createElement(st,null,r.a.createElement(yt,null))),r.a.createElement(d.a,{exact:!0,path:"/dashboard/feedback"},r.a.createElement(st,null,r.a.createElement(it,null))),r.a.createElement(d.a,{exact:!0,path:"/dashboard/timetable"},r.a.createElement(st,null,r.a.createElement(ut,null))),r.a.createElement(d.a,{exact:!0,path:"/dashboard/questions"},r.a.createElement(st,null,r.a.createElement(Nt,null))),r.a.createElement(d.a,{exact:!0,path:"/dashboard/donors"},r.a.createElement(st,null,r.a.createElement(W,null))),r.a.createElement(d.a,{exact:!0,path:"/dashboard/appointment"},r.a.createElement(st,null,r.a.createElement(gt,null))),r.a.createElement(d.a,{component:ht}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(60),a(108),a(109);s.a.render(r.a.createElement(kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a(110)}},[[67,1,2]]]);
//# sourceMappingURL=main.fdf34fcd.chunk.js.map