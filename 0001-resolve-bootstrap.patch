From d41a6ffd44973d706d2381d7ac7357cff88a91ca Mon Sep 17 00:00:00 2001
From: Gliga Dumitru <gliga_dumitru@yahoo.com>
Date: Wed, 10 Jun 2020 16:28:31 +0300
Subject: [PATCH] resolve bootstrap

---
 client/public/index.html               |   4 +-
 client/src/App.js                      |   5 +-
 client/src/Screens/Donors.js           |   4 +-
 client/src/Screens/EditDonoars.js      |   4 +-
 client/src/assets/style/_index.scss    |   2 +-
 client/src/assets/style/_main.scss     |  20 +++++
 client/src/assets/style/_ringBell.scss |  12 ++-
 client/src/components/Navbar.js        | 112 ++++++++++++-------------
 client/src/components/auth/Logout.js   |   7 +-
 client/src/index.js                    |   6 +-
 package-lock.json                      |  10 +++
 package.json                           |   2 +
 12 files changed, 113 insertions(+), 75 deletions(-)

diff --git a/client/public/index.html b/client/public/index.html
index 68a1729..36961c8 100644
--- a/client/public/index.html
+++ b/client/public/index.html
@@ -24,7 +24,7 @@
       work correctly both with client-side routing and a non-root public URL.
       Learn how to configure a non-root public URL by running `npm run build`.
     -->
-    
+    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/js/all.min.js" integrity="sha256-+Q/z/qVOexByW1Wpv81lTLvntnZQVYppIL1lBdhtIq0=" crossorigin="anonymous"></script>
     <title>Blood Donation</title>
   </head>
   <body>
@@ -40,5 +40,5 @@
       To begin the development, run `npm start` or `yarn start`.
       To create a production bundle, use `npm run build` or `yarn build`.
     -->
-  </body>
+   </body>
 </html>
diff --git a/client/src/App.js b/client/src/App.js
index 24936f3..f38b2c1 100644
--- a/client/src/App.js
+++ b/client/src/App.js
@@ -10,15 +10,12 @@ import { Provider } from 'react-redux';
 import store from './store';
 import { loadUser } from './actions/authActions';
 
-import 'bootstrap/dist/css/bootstrap.min.css';
-import './assets/style/_index.scss';
-
-
 const AppDefault = () => {
   return (<div className="App">
     <Navbar />
     <HomePage />
     <Footer />
+
   </div>)
 }
 
diff --git a/client/src/Screens/Donors.js b/client/src/Screens/Donors.js
index 1926330..0d71775 100644
--- a/client/src/Screens/Donors.js
+++ b/client/src/Screens/Donors.js
@@ -2,8 +2,8 @@ import React, { Component } from 'react';
 import Navbar from '../components/Navbar';
 import Footer from '../components/Footer';
 
-import 'bootstrap/dist/css/bootstrap.min.css';
-import '../assets/style/_donorsList.scss';
+// import 'bootstrap/dist/css/bootstrap.min.css';
+// import '../assets/style/_donorsList.scss';
 import DonorsList from '../components/donor/DonorsList';
 import DonorModal from '../components/donor/DonorModal';
 
diff --git a/client/src/Screens/EditDonoars.js b/client/src/Screens/EditDonoars.js
index c510588..cf9f844 100644
--- a/client/src/Screens/EditDonoars.js
+++ b/client/src/Screens/EditDonoars.js
@@ -1,8 +1,8 @@
 import React, { Component } from 'react';
 import Navbar from '../components/Navbar';
 import Footer from '../components/Footer';
-import 'bootstrap/dist/css/bootstrap.min.css';
-import '../assets/style/_donorsList.scss';
+// import 'bootstrap/dist/css/bootstrap.min.css';
+// import '../assets/style/_donorsList.scss';
 
 import EditDonor from '../components/donor/EditDonorModal';
 
diff --git a/client/src/assets/style/_index.scss b/client/src/assets/style/_index.scss
index d567a3f..a3ef048 100644
--- a/client/src/assets/style/_index.scss
+++ b/client/src/assets/style/_index.scss
@@ -1,4 +1,4 @@
+@import "_ringBell";
 @import "_main";
 @import "_navbar";
 @import "_donorsList";
-@import "_ringBell";
\ No newline at end of file
diff --git a/client/src/assets/style/_main.scss b/client/src/assets/style/_main.scss
index c882076..ee25352 100644
--- a/client/src/assets/style/_main.scss
+++ b/client/src/assets/style/_main.scss
@@ -10108,4 +10108,24 @@ header.masthead h1 {
 
 .text-white-75 {
   color: rgba(255, 255, 255, 0.75);
+}
+
+/* width */
+::-webkit-scrollbar {
+  width: 5px;
+}
+
+/* Track */
+::-webkit-scrollbar-track {
+  background: #f1f1f1;
+}
+
+/* Handle */
+::-webkit-scrollbar-thumb {
+  background: #888;
+}
+
+/* Handle on hover */
+::-webkit-scrollbar-thumb:hover {
+  background: #555;
 }
\ No newline at end of file
diff --git a/client/src/assets/style/_ringBell.scss b/client/src/assets/style/_ringBell.scss
index e608555..e61d947 100644
--- a/client/src/assets/style/_ringBell.scss
+++ b/client/src/assets/style/_ringBell.scss
@@ -42,7 +42,7 @@
   font-size: 13px;
 }
 .timeline.timeline-icons li {
-  padding-top: 7px;
+  padding-top: 0;
 }
 .timeline.timeline-icons li:after {
   width: 32px;
@@ -68,6 +68,7 @@
 }
 .timeline.timeline-icons.timeline-sm li:after {
   left: -5px;
+  top:5px;
 }
 .timeline.timeline-icons.timeline-sm li .timeline-icon {
   left: 4.5px;
@@ -170,14 +171,23 @@
 ----------------------------------------- */
 .dropdown-menu{
     padding:0 0 0 0;
+    padding: 0 !important;
 }
 a.dropdown-menu-header {
     background: #f7f9fe;
     font-weight: bold;
     border-bottom: 1px solid #e3e3e3;
 }
+a.dropdown-menu-header:hover{
+  text-decoration: none;
+  color: rgb(28, 78, 153);
+}
+.dropdown-menu li {
+  display: block;
+}
 .dropdown-menu > li a {
     padding: 10px 20px;
+    display: block;
 }
 
 /* -----------------------------------------
diff --git a/client/src/components/Navbar.js b/client/src/components/Navbar.js
index 75141fc..2bc8289 100644
--- a/client/src/components/Navbar.js
+++ b/client/src/components/Navbar.js
@@ -8,13 +8,9 @@ import { connect } from 'react-redux';
 import PropTypes from 'prop-types';
 import BloodRequest from './BloodRequestModal';
 
-// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
-// import { faBell, faFilePdf } from '@fortawesome/free-solid-svg-icons';
-
-import '../assets/style/_ringBell.scss';
-// import 'bootstrap.min.js';
-
-
+import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
+import { faBell } from '@fortawesome/free-solid-svg-icons';
+import { Link } from 'react-router-dom'
 class Navbar extends Component {
   state = {
     isOpen: false,
@@ -44,10 +40,17 @@ class Navbar extends Component {
 
     const authLinks = (
       <Fragment>
-        <NavItem>
-          <span className="nav-link js-scroll-trigger" >{user ? `Welcom ${user.name}` : ''}</span>
-        </NavItem>
-        <NavItem><Logout /></NavItem>
+        <li class="nav-item dropdown">
+          <Link class="nav-link dropdown-toggle" to="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
+            {user ? `Welcome ${user.name.charAt(0).toUpperCase() + user.name.slice(1)}` : ''}
+          </Link>
+          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
+            <Link class="dropdown-item" to="#"><i class="fas fa-sliders-h"></i> Settings</Link>
+            <Link class="dropdown-item" to="#"><i class="fas fa-user-circle"></i> Profiles</Link>
+            <div class="dropdown-divider"></div>
+            <Logout/>
+          </div>
+        </li>
       </Fragment>
     );
     const guestLink = (
@@ -62,9 +65,9 @@ class Navbar extends Component {
       <div>
         <nav className="navbar navbar-expand-lg navbar-light fixed-top py-2" id="mainNav">
           <div className="container">
-            <a className="navbar-brand js-scroll-trigger" href="#page-top">
+            <Link className="navbar-brand js-scroll-trigger" to="#page-top">
               Blood Donation
-          </a>
+          </Link>
             <NavbarToggler className="navbar-toggler navbar-toggler-right" onClick={this.toggle}
               // type="button"
               data-toggle="collapse"
@@ -76,54 +79,49 @@ class Navbar extends Component {
             </NavbarToggler>
             <Collapse isOpen={this.state.isOpen} className="somesome" navbar>
               <Nav className="ml-auto" navbar>
-                <li className="nav-item"><a className="nav-link js-scroll-trigger" href="#about">About</a></li>
-                <li className="nav-item"><a className="nav-link js-scroll-trigger" href="#services">Services</a></li>
-                <li className="nav-item"><a className="nav-link js-scroll-trigger" href="#contact">Contact</a></li>
+                <li className="nav-item"><Link className="nav-link js-scroll-trigger" to="#about">About</Link></li>
+                <li className="nav-item"><Link className="nav-link js-scroll-trigger" to="#services">Services</Link></li>
+                <li className="nav-item"><Link className="nav-link js-scroll-trigger" to="#contact">Contact</Link></li>
+                <li class="nav-item dropdown" >
+                  <Link class="nav-link " to="/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
+                    <FontAwesomeIcon icon={faBell} size="1x" float="left" color="white" />
+                  </Link>
+                  <span className="badge badge-danger">6</span>
+
+                  <ul role="menu" className="dropdown-menu dropdown-menu-left pull-right" aria-labelledby="navbarDropdown">
+                    <li role="none">
+                      <Link to="#" className="dropdown-menu-header">Notifications</Link>
+                    </li>
+                    <ul className="timeline timeline-icons timeline-sm" style={{ margin: '10px', width: '210px' }}>
+                      <li>
+                        <p>
+                          First Notification
+                            <span class="timeline-icon"><i class="far fa-file-pdf"></i></span>
+                          <span className="timeline-date">Dec 10, 22:00</span>
+                        </p>
+                      </li>
+                      <li>
+                        <p>
+                          First Notification
+                            <span className="timeline-date">Dec 10, 22:00</span>
+                        </p>
+                      </li>
+                      <li>
+                        <p>
+                          First Notification
+                            <span className="timeline-date">Dec 10, 22:00</span>
+                        </p>
+                      </li>
+                    </ul>
+                    <li role="none">
+                      <Link to="#" className="dropdown-menu-header"></Link>
+                    </li>
+                  </ul>
+                </li>
                 {isAuthenticated ? authLinks : guestLink}
 
               </Nav>
             </Collapse>
-
-            {/* Ring Bell Notification */}
-
-            
-            {/* <div className="dropdown" style={{ float: 'right', padding: '13px' }} >
-              <a href="#" onClickNotification={this.state.isOpenNotification} role="button" data-toggle="dropdown" id="dropdownMenu1" data-target="#" style={{ float: 'left' }} aria-expanded="true">
-                <FontAwesomeIcon icon={faBell} size="1x" float="left" color="white" />
-              </a>
-              <span className="badge badge-danger">6</span>
-              <ul role="menu" className="dropdown-menu dropdown-menu-left pull-right"  aria-labelledby="dropdownMenu1">
-                <li role="none">
-                  <a href="#" className="dropdown-menu-header">Notifications</a>
-                </li>
-                <ul className="timeline timeline-icons timeline-sm" style={{ margin: '10px', width: '210px' }}>
-                  <li>
-                    <p>
-                      First Notification
-                      <span className="timeline-date">Dec 10, 22:00</span>
-                    </p>
-                  </li>
-                </ul>
-                <li role="none">
-                  <a href="#" className="dropdown-menu-header"></a>
-                </li>
-              </ul>
-            </div> */}
-
-            {/* <div className="collapse navbar-collapse" id="navbarResponsive">
-              <ul className="navbar-nav ml-auto my-2 my-lg-0">
-                <li className="nav-item"><a className="nav-link js-scroll-trigger" href="#about">About</a></li>
-                <li className="nav-item"><a className="nav-link js-scroll-trigger" href="#services">Services</a></li>
-                <li className="nav-item"><a className="nav-link js-scroll-trigger" href="#contact">Contact</a></li>
-                <Collapse isOpen={false} className="somesome" navbar>
-                  <Nav className="ml-auto" navbar>
-                    <Nav className="ml-auto" navbar>
-                      {isAuthenticated ? authLinks : guestLink}
-                    </Nav>
-                  </Nav>
-                </Collapse>
-              </ul>
-            </div> */}
           </div>
         </nav>
       </div>
diff --git a/client/src/components/auth/Logout.js b/client/src/components/auth/Logout.js
index 2cd3ba5..84f701b 100644
--- a/client/src/components/auth/Logout.js
+++ b/client/src/components/auth/Logout.js
@@ -1,9 +1,8 @@
 import React, { Component, Fragment } from 'react';
-import { NavLink } from 'reactstrap';
 import { connect } from 'react-redux';
 import { logout } from '../../actions/authActions';
 import PropTypes from 'prop-types';
-
+import {Link} from 'react-router-dom'
 export class Logout extends Component {
 
     static propTypes = {
@@ -13,9 +12,7 @@ export class Logout extends Component {
     render() {
         return (
             <Fragment>
-                <NavLink onClick={this.props.logout} href="#">
-                    Logout
-                </NavLink>
+                <Link class="dropdown-item"onClick={this.props.logout} to="/"><i class="fas fa-sign-out-alt"></i> Logout</Link>
             </Fragment>
         );
     }
diff --git a/client/src/index.js b/client/src/index.js
index ceccf17..e0d7c04 100644
--- a/client/src/index.js
+++ b/client/src/index.js
@@ -2,7 +2,11 @@ import React from 'react';
 import ReactDOM from 'react-dom';
 import App from './App';
 import * as serviceWorker from './serviceWorker';
-
+// eslint-disable-next-line
+import $ from 'jquery';
+import '../node_modules/bootstrap/dist/css/bootstrap.min.css';
+import '../node_modules/bootstrap/dist/js/bootstrap.min.js';
+import './assets/style/_index.scss'
 ReactDOM.render(<App />,document.getElementById('root'));
 
 serviceWorker.unregister();
diff --git a/package-lock.json b/package-lock.json
index 11c5cad..47af987 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -153,6 +153,11 @@
         "type-is": "~1.6.17"
       }
     },
+    "bootstrap": {
+      "version": "4.5.0",
+      "resolved": "https://registry.npmjs.org/bootstrap/-/bootstrap-4.5.0.tgz",
+      "integrity": "sha512-Z93QoXvodoVslA+PWNdk23Hze4RBYIkpb5h8I2HY2Tu2h7A0LpAgLcyrhrSUyo2/Oxm2l1fRZPs1e5hnxnliXA=="
+    },
     "boxen": {
       "version": "4.2.0",
       "resolved": "https://registry.npmjs.org/boxen/-/boxen-4.2.0.tgz",
@@ -1010,6 +1015,11 @@
       "resolved": "https://registry.npmjs.org/isarray/-/isarray-1.0.0.tgz",
       "integrity": "sha1-u5NdSFgsuhaMBoNJV6VKPgcSTxE="
     },
+    "jquery": {
+      "version": "3.5.1",
+      "resolved": "https://registry.npmjs.org/jquery/-/jquery-3.5.1.tgz",
+      "integrity": "sha512-XwIBPqcMn57FxfT+Go5pzySnm4KWkT1Tv7gjrpT1srtf8Weynl6R273VJ5GjkRb51IzMp5nbaPjJXMWeju2MKg=="
+    },
     "js-tokens": {
       "version": "4.0.0",
       "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
diff --git a/package.json b/package.json
index ff85257..a3543dc 100644
--- a/package.json
+++ b/package.json
@@ -14,10 +14,12 @@
   "dependencies": {
     "availity-reactstrap-validation": "^2.6.1",
     "bcryptjs": "^2.4.3",
+    "bootstrap": "^4.5.0",
     "concurrently": "^5.2.0",
     "config": "^3.3.1",
     "express": "^4.17.1",
     "google-maps-react": "^2.0.6",
+    "jquery": "^3.5.1",
     "jsonwebtoken": "^8.5.1",
     "mongoose": "^5.9.10",
     "nodemon": "^2.0.3",
-- 
2.20.1.windows.1

